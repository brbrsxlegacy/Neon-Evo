<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEON RISE 2</title>

<style>
html,body{
margin:0;
padding:0;
overflow:hidden;
background:#02030a;
font-family:Arial;
touch-action:none;
}

canvas{
display:block;
}

#menu{
position:absolute;
inset:0;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
background:radial-gradient(circle,#061020,#000);
color:#00ffff;
}

.btn{
padding:14px 28px;
margin:10px;
background:#001a22;
border:2px solid #00ffff;
color:#00ffff;
font-size:18px;
cursor:pointer;
box-shadow:0 0 15px #00ffff;
}

.hud{
position:absolute;
top:10px;
left:10px;
color:#0ff;
font-size:14px;
}

</style>
</head>
<body>

<div id="menu">
<h1>NEON RISE 2</h1>
<button class="btn" onclick="startGame()">LOCAL</button>
<button class="btn" onclick="alert('online sonra eklenecek')">ONLINE</button>
</div>

<div class="hud" id="hud" style="display:none;"></div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize(){
canvas.width = innerWidth;
canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

/* ======================
   GAME STATE
====================== */

let gameRunning = false;
let player, enemies, bullets, xpOrbs;
let level = 1;
let xp = 0;

/* ======================
   START GAME
====================== */

function startGame(){
document.getElementById("menu").style.display="none";
document.getElementById("hud").style.display="block";
initGame();
gameRunning = true;
}

/* ======================
   INIT
====================== */

function initGame(){
player = {
x:canvas.width/2,
y:canvas.height/2,
r:18,
speed:4,
color:"#00ffff"
};

enemies = [];
bullets = [];
xpOrbs = [];
spawnEnemy();
}

/* ======================
   INPUT
====================== */

let keys = {};
onkeydown=e=>keys[e.key]=true;
onkeyup=e=>keys[e.key]=false;

let touchX=0,touchY=0;
canvas.ontouchmove=e=>{
touchX=e.touches[0].clientX;
touchY=e.touches[0].clientY;
};

/* ======================
   SPAWN
====================== */

function spawnEnemy(){
setInterval(()=>{
enemies.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
r:14,
speed:1.2+level*0.1
});
},1200);
}

/* ======================
   UPDATE
====================== */

function update(){

// movement
if(keys["w"]||keys["ArrowUp"]) player.y-=player.speed;
if(keys["s"]||keys["ArrowDown"]) player.y+=player.speed;
if(keys["a"]||keys["ArrowLeft"]) player.x-=player.speed;
if(keys["d"]||keys["ArrowRight"]) player.x+=player.speed;

// mobile follow
if(touchX){
let dx=touchX-player.x;
let dy=touchY-player.y;
player.x+=dx*0.03;
player.y+=dy*0.03;
}

// enemies follow
enemies.forEach(e=>{
let dx=player.x-e.x;
let dy=player.y-e.y;
let d=Math.hypot(dx,dy);
e.x+=dx/d*e.speed;
e.y+=dy/d*e.speed;
});

// collision
enemies.forEach((e,i)=>{
if(Math.hypot(player.x-e.x, player.y-e.y) < player.r+e.r){
xp+=10;
xpOrbs.push({x:e.x,y:e.y});
enemies.splice(i,1);
}
});

// collect xp
xpOrbs.forEach((o,i)=>{
if(Math.hypot(player.x-o.x, player.y-o.y) < player.r+8){
xp+=5;
xpOrbs.splice(i,1);
}
});

if(xp>=level*50){
xp=0;
level++;
player.r+=1;
player.speed+=0.2;
}

document.getElementById("hud").innerHTML =
"LEVEL: "+level+"<br>XP: "+xp;

}

/* ======================
   DRAW
====================== */

function draw(){

// background grid
ctx.fillStyle="#02030a";
ctx.fillRect(0,0,canvas.width,canvas.height);

ctx.strokeStyle="rgba(0,255,255,0.07)";
for(let x=0;x<canvas.width;x+=60){
ctx.beginPath();
ctx.moveTo(x,0);
ctx.lineTo(x,canvas.height);
ctx.stroke();
}
for(let y=0;y<canvas.height;y+=60){
ctx.beginPath();
ctx.moveTo(0,y);
ctx.lineTo(canvas.width,y);
ctx.stroke();
}

// player glow
ctx.beginPath();
ctx.arc(player.x,player.y,player.r+10,0,Math.PI*2);
ctx.fillStyle="rgba(0,255,255,0.1)";
ctx.fill();

// player
ctx.beginPath();
ctx.arc(player.x,player.y,player.r,0,Math.PI*2);
ctx.fillStyle=player.color;
ctx.fill();

// enemies
ctx.fillStyle="#ff2a6d";
enemies.forEach(e=>{
ctx.beginPath();
ctx.arc(e.x,e.y,e.r,0,Math.PI*2);
ctx.fill();
});

// xp orbs
ctx.fillStyle="#00ff88";
xpOrbs.forEach(o=>{
ctx.beginPath();
ctx.arc(o.x,o.y,6,0,Math.PI*2);
ctx.fill();
});

}

/* ======================
   LOOP
====================== */

function loop(){
if(gameRunning){
update();
draw();
}
requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
