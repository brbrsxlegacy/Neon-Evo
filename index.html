<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEON RISE 2</title>

<style>
html,body{
margin:0;
padding:0;
overflow:hidden;
background:#02030a;
font-family:Arial;
touch-action:none;
}

canvas{
display:block;
}
#hud{
position:fixed;
top:15px;
left:15px;
width:220px;
font-family:Arial;
color:#00ffff;
text-shadow:0 0 10px #00ffff;
}

#hpBar{
width:100%;
height:14px;
background:#111;
border:2px solid #00ffff;
margin-bottom:6px;
}

#hpFill{
height:100%;
width:100%;
background:#00ffaa;
}

#xpBar{
width:100%;
height:8px;
background:#111;
border:1px solid #00ffff;
}

#xpFill{
height:100%;
width:0%;
background:#00ffff;
}

#levelText{
margin-top:4px;
font-size:14px;
}

#mainMenu{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:radial-gradient(circle at center,#03121f,#000);
z-index:10;
}

#mainMenu h1{
color:#00ffff;
font-size:48px;
margin-bottom:30px;
text-shadow:0 0 25px #00ffff;
}

#mainMenu button{
width:220px;
margin:10px;
padding:15px;
font-size:18px;
background:#001a22;
color:#00ffff;
border:2px solid #00ffff;
cursor:pointer;
box-shadow:0 0 15px #00ffff;
transition:0.2s;
}

#mainMenu button:hover{
transform:scale(1.05);
box-shadow:0 0 30px #00ffff;
}


.btn{
padding:14px 28px;
margin:10px;
background:#001a22;
border:2px solid #00ffff;
color:#00ffff;
font-size:18px;
cursor:pointer;
box-shadow:0 0 15px #00ffff;
}

.hud{
position:absolute;
top:10px;
left:10px;
color:#0ff;
font-size:14px;
}

</style>
</head>
<body>

<div id="menu">
<h1>NEON RISE 2</h1>
<button class="btn" onclick="startGame()">LOCAL</button>
<button class="btn" onclick="alert('online sonra eklenecek')">ONLINE</button>
</div>

<div class="hud" id="hud" style="display:none;"></div>

<div id="hud">
  <div id="hpBar"><div id="hpFill"></div></div>
  <div id="xpBar"><div id="xpFill"></div></div>
  <div id="levelText">LEVEL 1</div>
</div>

<!-- MAIN MENU -->
<div id="mainMenu">
  <h1>NEON RISE</h1>

  <button onclick="startLocal()">LOCAL GAME</button>
  <button onclick="startOnline()">ONLINE</button>
  <button onclick="openSettings()">SETTINGS</button>
</div>

<canvas id="game"></canvas>

<script>


function startLocal(){
document.getElementById("mainMenu").style.display="none";
startGame();
}

function startOnline(){
alert("Online yakÄ±nda ðŸ”¥");
}

function openSettings(){
alert("Settings yakÄ±nda");
}
document.addEventListener("keydown", e=>{
if(e.key==="Escape"){
gameRunning=false;
document.getElementById("mainMenu").style.display="flex";
}
});

const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize(){
canvas.width = innerWidth;
canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

/* ======================
   GAME STATE
====================== */

let gameRunning = false;
let player, enemies, bullets, xpOrbs;
let level = 100;
let xp = 0;

/* ======================
   START GAME
====================== */

function startGame(){
document.getElementById("menu").style.display="none";
document.getElementById("hud").style.display="block";
initGame();
gameRunning = true;
}

/* ======================
   INIT
====================== */

function initGame(){
player = {
x: canvas.width/2,
y: canvas.height/2,
r: 18,
speed: 4,
color:"#00ffff",
hp:100,
maxHp:100
};


enemies = [];
bullets = [];
xpOrbs = [];
spawnEnemy();
}

/* ======================
   INPUT
====================== */

let keys = {};
onkeydown=e=>keys[e.key]=true;
onkeyup=e=>keys[e.key]=false;

let touchX=0,touchY=0;
canvas.ontouchmove=e=>{
touchX=e.touches[0].clientX;
touchY=e.touches[0].clientY;
};

/* ======================
   SPAWN
====================== */

function spawnEnemy(){
setInterval(()=>{
enemies.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
r:14,
speed:1.2+level*0.1
});
},1200);
}

/* ======================
   UPDATE
====================== */

function update(){

// movement
if(keys["w"]||keys["ArrowUp"]) player.y-=player.speed;
if(keys["s"]||keys["ArrowDown"]) player.y+=player.speed;
if(keys["a"]||keys["ArrowLeft"]) player.x-=player.speed;
if(keys["d"]||keys["ArrowRight"]) player.x+=player.speed;

// mobile follow
if(touchX){
let dx=touchX-player.x;
let dy=touchY-player.y;
player.x+=dx*0.03;
player.y+=dy*0.03;
}

// enemies follow
enemies.forEach(e=>{
let dx=player.x-e.x;
let dy=player.y-e.y;
let d=Math.hypot(dx,dy);
e.x+=dx/d*e.speed;
e.y+=dy/d*e.speed;
});

// collision
enemies.forEach((e,i)=>{
if(Math.hypot(player.x-e.x, player.y-e.y) < player.r+e.r){
xp+=10;
xpOrbs.push({x:e.x,y:e.y});
enemies.splice(i,1);
}
});

// collect xp
xpOrbs.forEach((o,i)=>{
if(Math.hypot(player.x-o.x, player.y-o.y) < player.r+8){
xp+=5;
xpOrbs.splice(i,1);
}
});
// HUD UPDATE
document.getElementById("hpFill").style.width =
(player.hp / player.maxHp * 100) + "%";

document.getElementById("xpFill").style.width =
(xp / (level*50) * 100) + "%";

document.getElementById("levelText").innerText =
"LEVEL " + level;

if(xp>=level*50){
xp=0;
level++;
player.r+=1;
player.speed+=0.2;
}

document.getElementById("hud").innerHTML =
"LEVEL: "+level+"<br>XP: "+xp;

}

/* ======================
   DRAW
====================== */

function draw(){

// background grid
ctx.fillStyle="#02030a";
ctx.fillRect(0,0,canvas.width,canvas.height);

ctx.strokeStyle="rgba(0,255,255,0.07)";
for(let x=0;x<canvas.width;x+=60){
ctx.beginPath();
ctx.moveTo(x,0);
ctx.lineTo(x,canvas.height);
ctx.stroke();
}
for(let y=0;y<canvas.height;y+=60){
ctx.beginPath();
ctx.moveTo(0,y);
ctx.lineTo(canvas.width,y);
ctx.stroke();
}

// player glow
ctx.beginPath();
ctx.arc(player.x,player.y,player.r+10,0,Math.PI*2);
ctx.fillStyle="rgba(0,255,255,0.1)";
ctx.fill();

const form = getEvolution(level);

let glow = 10;
let color = "#00ffff";

// evrim renkleri
if(form==="core") glow=15;
if(form==="energy") glow=25;
if(form==="sun"){ color="#ffd000"; glow=35; }
if(form==="orbit"){ color="#7ad6ff"; glow=30; }
if(form==="portal"){ color="#b266ff"; glow=40; }
if(form==="plasma"){ color="#00ffff"; glow=50; }
if(form==="demon"){ color="#ff0033"; glow=55; }
if(form==="god"){ color="#ffffff"; glow=65; }

// aura
ctx.beginPath();
ctx.arc(player.x, player.y, player.r+10, 0, Math.PI*2);
ctx.fillStyle = color;
ctx.globalAlpha = 0.08;
ctx.fill();
ctx.globalAlpha = 1;

// orbit halkasÄ±
if(form==="orbit" || form==="portal"){
  ctx.beginPath();
  ctx.arc(player.x, player.y, player.r+14, 0, Math.PI*2);
  ctx.strokeStyle=color;
  ctx.lineWidth=2;
  ctx.stroke();
}

// gÃ¼neÅŸ Ä±ÅŸÄ±nlarÄ±
if(form==="sun"){
  for(let i=0;i<8;i++){
    const a = i*Math.PI/4;
    ctx.beginPath();
    ctx.moveTo(player.x, player.y);
    ctx.lineTo(
      player.x + Math.cos(a)*(player.r+18),
      player.y + Math.sin(a)*(player.r+18)
    );
    ctx.strokeStyle=color;
    ctx.stroke();
  }
}

// demon boynuz
if(form==="demon"){
  ctx.fillStyle=color;
  ctx.beginPath();
  ctx.moveTo(player.x-8, player.y-player.r);
  ctx.lineTo(player.x-2, player.y-player.r-12);
  ctx.lineTo(player.x+2, player.y-player.r);
  ctx.fill();

  ctx.beginPath();
  ctx.moveTo(player.x+8, player.y-player.r);
  ctx.lineTo(player.x+2, player.y-player.r-12);
  ctx.lineTo(player.x-2, player.y-player.r);
  ctx.fill();
}

// GOD kanatlarÄ±
if(form==="god"){
  ctx.strokeStyle=color;
  ctx.beginPath();
  ctx.moveTo(player.x-player.r-6, player.y);
  ctx.lineTo(player.x-player.r-22, player.y-10);
  ctx.lineTo(player.x-player.r-22, player.y+10);
  ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(player.x+player.r+6, player.y);
  ctx.lineTo(player.x+player.r+22, player.y-10);
  ctx.lineTo(player.x+player.r+22, player.y+10);
  ctx.stroke();
}

// glow
ctx.shadowColor=color;
ctx.shadowBlur=glow;

ctx.beginPath();
ctx.arc(player.x,player.y,player.r,0,Math.PI*2);
ctx.fillStyle=color;
ctx.fill();

ctx.shadowBlur=0;


// enemies
ctx.fillStyle="#ff2a6d";
enemies.forEach(e=>{
ctx.beginPath();
ctx.arc(e.x,e.y,e.r,0,Math.PI*2);
ctx.fill();
});

// xp orbs
ctx.fillStyle="#00ff88";
xpOrbs.forEach(o=>{
ctx.beginPath();
ctx.arc(o.x,o.y,6,0,Math.PI*2);
ctx.fill();
});

}

/* ======================
   LOOP
====================== */

function loop(){
if(gameRunning){
update();
draw();
}
requestAnimationFrame(loop);
}
loop();

function getEvolution(level){
  if(level>=100) return "god";
  if(level>=90) return "demon";
  if(level>=70) return "plasma";
  if(level>=50) return "portal";
  if(level>=30) return "orbit";
  if(level>=20) return "sun";
  if(level>=10) return "energy";
  if(level>=5) return "core";
  return "base";
}

</script>
</body>
</html>
